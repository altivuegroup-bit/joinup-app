# =============================================================================
# JOINUP APP - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local or any file containing real secrets
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=development
PORT=3001
API_URL=http://localhost:3001
APP_URL=http://localhost:8081
APP_NAME=JoinUp

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# Local Docker:
DATABASE_URL="postgresql://postgres:password@localhost:5432/joinup_dev?schema=public"

# Supabase (uncomment for production):
# DATABASE_URL="postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres"

# =============================================================================
# REDIS
# =============================================================================
# Local Docker:
REDIS_URL="redis://localhost:6379"

# Upstash (uncomment for production):
# REDIS_URL="rediss://default:[PASSWORD]@[HOST].upstash.io:6379"

# =============================================================================
# AUTHENTICATION (JWT)
# =============================================================================
# Generate with: openssl rand -base64 64
# IMPORTANT: Use different values for production!
JWT_ACCESS_SECRET="CHANGE_ME_generate_with_openssl_rand_base64_64"
JWT_REFRESH_SECRET="CHANGE_ME_generate_with_openssl_rand_base64_64_different"
JWT_ACCESS_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# =============================================================================
# ENCRYPTION
# =============================================================================
# Generate with: openssl rand -hex 32
# Used for encrypting sensitive data (OAuth tokens, etc.)
ENCRYPTION_KEY="CHANGE_ME_generate_with_openssl_rand_hex_32"

# =============================================================================
# STRIPE PAYMENTS
# =============================================================================
# Get from: https://dashboard.stripe.com/apikeys

# Test keys (start with sk_test_ and pk_test_)
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Webhook secret (from Stripe Dashboard > Webhooks)
# For local testing: stripe listen --forward-to localhost:3001/api/payments/webhook
STRIPE_WEBHOOK_SECRET="whsec_..."

# Stripe Connect (for creator payouts)
STRIPE_CONNECT_CLIENT_ID="ca_..."

# Subscription Price IDs (create in Stripe Dashboard > Products)
STRIPE_PRICE_CONNECT_MONTHLY="price_..."
STRIPE_PRICE_CREATOR_MONTHLY="price_..."

# =============================================================================
# OAUTH - SOCIAL PLATFORMS
# =============================================================================
# Each platform requires creating a developer app and getting credentials

# Instagram Basic Display API
# https://developers.facebook.com/apps/
INSTAGRAM_CLIENT_ID=""
INSTAGRAM_CLIENT_SECRET=""
INSTAGRAM_REDIRECT_URI="http://localhost:3001/api/auth/instagram/callback"

# Twitter OAuth 2.0
# https://developer.twitter.com/en/portal/dashboard
TWITTER_CLIENT_ID=""
TWITTER_CLIENT_SECRET=""
TWITTER_REDIRECT_URI="http://localhost:3001/api/auth/twitter/callback"

# TikTok Login Kit
# https://developers.tiktok.com/
TIKTOK_CLIENT_KEY=""
TIKTOK_CLIENT_SECRET=""
TIKTOK_REDIRECT_URI="http://localhost:3001/api/auth/tiktok/callback"

# LinkedIn OAuth 2.0
# https://www.linkedin.com/developers/apps
LINKEDIN_CLIENT_ID=""
LINKEDIN_CLIENT_SECRET=""
LINKEDIN_REDIRECT_URI="http://localhost:3001/api/auth/linkedin/callback"

# =============================================================================
# EMAIL (Resend)
# =============================================================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY="re_..."
EMAIL_FROM="JoinUp <hello@yourdomain.com>"

# For local development with MailHog (uncomment):
# SMTP_HOST=localhost
# SMTP_PORT=1025
# SMTP_SECURE=false

# =============================================================================
# FILE STORAGE
# =============================================================================
# AWS S3 or Cloudflare R2

S3_BUCKET="nexus-uploads"
S3_REGION="us-east-1"
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""

# For Cloudflare R2 (uncomment and set endpoint):
# S3_ENDPOINT="https://[ACCOUNT_ID].r2.cloudflarestorage.com"

# For local development with MinIO (uncomment):
# S3_ENDPOINT="http://localhost:9000"
# S3_ACCESS_KEY_ID="minioadmin"
# S3_SECRET_ACCESS_KEY="minioadmin"

# =============================================================================
# PUSH NOTIFICATIONS (Expo)
# =============================================================================
# Get from: https://expo.dev/accounts/[account]/settings/access-tokens
EXPO_ACCESS_TOKEN=""

# =============================================================================
# MAPS
# =============================================================================
# Mapbox (recommended)
# Get from: https://account.mapbox.com/access-tokens/
MAPBOX_ACCESS_TOKEN=""

# Google Maps (alternative)
# GOOGLE_MAPS_API_KEY=""

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Sentry Error Tracking
# Get from: https://sentry.io/settings/[org]/projects/[project]/keys/
SENTRY_DSN=""
SENTRY_AUTH_TOKEN=""

# PostHog Analytics (optional)
# Get from: https://app.posthog.com/project/settings
POSTHOG_API_KEY=""
POSTHOG_HOST="https://app.posthog.com"

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# =============================================================================
# CORS
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS="http://localhost:8081,http://localhost:19006"

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=dev

# =============================================================================
# FEATURE FLAGS (optional)
# =============================================================================
ENABLE_CHAT=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
